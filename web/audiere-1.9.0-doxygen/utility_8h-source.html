<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>utility.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.2.17 -->
<center>
<a class="qindex" href="main.html">Main Page</a> &nbsp; <a class="qindex" href="namespaces.html">Namespace List</a> &nbsp; <a class="qindex" href="hierarchy.html">Class Hierarchy</a> &nbsp; <a class="qindex" href="classes.html">Alphabetical List</a> &nbsp; <a class="qindex" href="annotated.html">Compound List</a> &nbsp; <a class="qindex" href="files.html">File List</a> &nbsp; <a class="qindex" href="namespacemembers.html">Namespace Members</a> &nbsp; <a class="qindex" href="functions.html">Compound Members</a> &nbsp; <a class="qindex" href="globals.html">File Members</a> &nbsp; <a class="qindex" href="pages.html">Related Pages</a> &nbsp; </center>
<hr><h1>utility.h</h1><a href="utility_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre>00001 <span class="preprocessor">#ifndef UTILITY_H</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define UTILITY_H</span>
00003 <span class="preprocessor"></span>
00004 
00005 <span class="preprocessor">#ifdef _MSC_VER</span>
00006 <span class="preprocessor"></span><span class="preprocessor">#pragma warning(disable : 4786)</span>
00007 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
00008 <span class="preprocessor"></span>
00009 
00010 <span class="preprocessor">#include &lt;map&gt;</span>
00011 <span class="preprocessor">#include &lt;string&gt;</span>
00012 <span class="preprocessor">#include &lt;utility&gt;</span>
00013 <span class="preprocessor">#include "<a class="code" href="audiere_8h.html">audiere.h</a>"</span>
00014 <span class="preprocessor">#include "<a class="code" href="types_8h.html">types.h</a>"</span>
00015 
00016 
00017 <span class="preprocessor">#if defined(_MSC_VER) &amp;&amp; _MSC_VER &lt;= 1200</span>
00018 <span class="preprocessor"></span>
00019   <span class="comment">// std::min and std::max are broken in VC++ 6, so define our own.</span>
00020   <span class="comment">// Unfortunately, this means we must include utility.h to use</span>
00021   <span class="comment">// std::min and std::max</span>
00022   <span class="keyword">namespace </span>std {
00023 
00024 <span class="preprocessor">    #ifdef min</span>
00025 <span class="preprocessor"></span><span class="preprocessor">      #undef min</span>
00026 <span class="preprocessor"></span><span class="preprocessor">    #endif</span>
00027 <span class="preprocessor"></span>
00028 <span class="preprocessor">    #ifdef max</span>
00029 <span class="preprocessor"></span><span class="preprocessor">      #undef max</span>
00030 <span class="preprocessor"></span><span class="preprocessor">    #endif</span>
00031 <span class="preprocessor"></span>
00032     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00033     <span class="keyword">inline</span> T min(T a, T b) {
00034       <span class="keywordflow">return</span> (a &lt; b ? a : b);
00035     }
00036 
00037     <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;
00038     <span class="keyword">inline</span> T max(T a, T b) {
00039       <span class="keywordflow">return</span> (a &gt; b ? a : b);
00040     }
00041   }
00042 
00043 <span class="preprocessor">#else</span>
00044 <span class="preprocessor"></span>
00045 <span class="preprocessor">  #include &lt;algorithm&gt;</span>
00046 
00047 <span class="preprocessor">#endif</span>
00048 <span class="preprocessor"></span>
00049 
00050 <span class="keyword">namespace </span>audiere {
00051 
<a name="l00052"></a><a class="code" href="classaudiere_1_1ParameterList.html">00052</a>   <span class="keyword">class </span><a class="code" href="classaudiere_1_1ParameterList.html">ParameterList</a> {
00053   <span class="keyword">public</span>:
00054     <a class="code" href="classaudiere_1_1ParameterList.html#a0">ParameterList</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="namespaceaudiere_1_1hidden.html#a0">parameters</a>);
00055     std::string <a class="code" href="classaudiere_1_1ParameterList.html#a1">getValue</a>(std::string key, std::string defValue) <span class="keyword">const</span>;
00056 
00057   <span class="keyword">private</span>:
00058     std::map&lt;std::string, std::string&gt; m_values;
00059   };
00060 
00061   <span class="keywordtype">int</span> <a class="code" href="namespaceaudiere.html#a51">strcmp_case</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* a, <span class="keyword">const</span> <span class="keywordtype">char</span>* b);
00062 
00063 
<a name="l00064"></a><a class="code" href="namespaceaudiere.html#a53">00064</a>   <span class="keyword">inline</span> <a class="code" href="namespaceaudiere.html#a15">u16</a> <a class="code" href="namespaceaudiere.html#a53">read16_le</a>(<span class="keyword">const</span> <a class="code" href="namespaceaudiere.html#a13">u8</a>* b) {
00065     <span class="keywordflow">return</span> b[0] + (b[1] &lt;&lt; 8);
00066   }
00067 
<a name="l00068"></a><a class="code" href="namespaceaudiere.html#a54">00068</a>   <span class="keyword">inline</span> <a class="code" href="namespaceaudiere.html#a15">u16</a> <a class="code" href="namespaceaudiere.html#a54">read16_be</a>(<span class="keyword">const</span> <a class="code" href="namespaceaudiere.html#a13">u8</a>* b) {
00069     <span class="keywordflow">return</span> (b[0] &lt;&lt; 8) + b[1];
00070   }
00071 
<a name="l00072"></a><a class="code" href="namespaceaudiere.html#a55">00072</a>   <span class="keyword">inline</span> <a class="code" href="namespaceaudiere.html#a17">u32</a> <a class="code" href="namespaceaudiere.html#a55">read32_le</a>(<span class="keyword">const</span> <a class="code" href="namespaceaudiere.html#a13">u8</a>* b) {
00073     <span class="keywordflow">return</span> <a class="code" href="namespaceaudiere.html#a53">read16_le</a>(b) + (<a class="code" href="namespaceaudiere.html#a53">read16_le</a>(b + 2) &lt;&lt; 16);
00074   }
00075 
<a name="l00076"></a><a class="code" href="namespaceaudiere.html#a56">00076</a>   <span class="keyword">inline</span> <a class="code" href="namespaceaudiere.html#a17">u32</a> <a class="code" href="namespaceaudiere.html#a56">read32_be</a>(<span class="keyword">const</span> <a class="code" href="namespaceaudiere.html#a13">u8</a>* b) {
00077     <span class="keywordflow">return</span> (<a class="code" href="namespaceaudiere.html#a54">read16_be</a>(b) &lt;&lt; 16) + <a class="code" href="namespaceaudiere.html#a54">read16_be</a>(b + 2);
00078   }
00079 
00080 
<a name="l00081"></a><a class="code" href="classaudiere_1_1UnseekableSource.html">00081</a>   <span class="keyword">class </span><a class="code" href="classaudiere_1_1UnseekableSource.html">UnseekableSource</a> : <span class="keyword">public</span> <a class="code" href="classaudiere_1_1RefImplementation.html">RefImplementation</a>&lt;SampleSource&gt; {
00082   <span class="keyword">public</span>:
<a name="l00083"></a><a class="code" href="classaudiere_1_1UnseekableSource.html#a0">00083</a>     <span class="keywordtype">bool</span> <a class="code" href="audiere_8h.html#a0">ADR_CALL</a> <a class="code" href="classaudiere_1_1UnseekableSource.html#a0">isSeekable</a>()                  { <span class="keywordflow">return</span> <span class="keyword">false</span>; }
<a name="l00084"></a><a class="code" href="classaudiere_1_1UnseekableSource.html#a1">00084</a>     <span class="keywordtype">int</span>  <a class="code" href="audiere_8h.html#a0">ADR_CALL</a> <a class="code" href="classaudiere_1_1UnseekableSource.html#a1">getLength</a>()                   { <span class="keywordflow">return</span> 0;     }
<a name="l00085"></a><a class="code" href="classaudiere_1_1UnseekableSource.html#a2">00085</a>     <span class="keywordtype">void</span> <a class="code" href="audiere_8h.html#a0">ADR_CALL</a> <a class="code" href="classaudiere_1_1UnseekableSource.html#a2">setPosition</a>(<span class="keywordtype">int</span> <span class="comment">/*position*/</span>) {               }
<a name="l00086"></a><a class="code" href="classaudiere_1_1UnseekableSource.html#a3">00086</a>     <span class="keywordtype">int</span>  <a class="code" href="audiere_8h.html#a0">ADR_CALL</a> <a class="code" href="classaudiere_1_1UnseekableSource.html#a3">getPosition</a>()                 { <span class="keywordflow">return</span> 0;     }
00087   };
00088 
00089 
<a name="l00090"></a><a class="code" href="namespaceaudiere.html#a57">00090</a>   <span class="keyword">inline</span> <a class="code" href="classaudiere_1_1SampleSource.html">SampleSource</a>* <a class="code" href="namespaceaudiere.html#a57">OpenBufferStream</a>(
00091     <span class="keywordtype">void</span>* samples, <span class="keywordtype">int</span> sample_count,
00092     <span class="keywordtype">int</span> channel_count, <span class="keywordtype">int</span> sample_rate, <a class="code" href="namespaceaudiere.html#a59">SampleFormat</a> <a class="code" href="namespaceaudiere_1_1hidden.html#a6">sample_format</a>)
00093   {
00094     <span class="keywordflow">return</span> <a class="code" href="namespaceaudiere.html#a30">CreateSampleBuffer</a>(
00095       samples, sample_count,
00096       channel_count, sample_rate, <a class="code" href="namespaceaudiere_1_1hidden.html#a6">sample_format</a>)-&gt;<a class="code" href="classaudiere_1_1SampleBuffer.html#a3">openStream</a>();
00097   }
00098 
00099 }
00100 
00101 
00102 <span class="preprocessor">#endif</span>
</pre></div><hr><address style="align: right;"><small>Generated on Sat Sep 7 15:33:41 2002 for audiere by
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border=0 
width=110 height=53></a>1.2.17 </small></address>
</body>
</html>
